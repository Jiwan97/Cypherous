{% extends 'layout.html' %}
{% load static %}
{% block title %}
    <title>Learn To Earn</title>
{% endblock%}

{% block content %}
<div class="all-title-box">
		<div class="container text-center">
			<h1>Recent News<span class="m_1">Lorem Ipsum dolroin gravida nibh vel velit.</span></h1>
		</div>
	</div>

    <div id="overviews" class="section wb">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-12 right-single">
					<div class="widget-search">
						<div class="site-search-area">
							<form method="get" id="site-searchform" action="#">
								<div>
									<input class="input-text form-control" name="search-k" id="search-k" placeholder="Search keywords..." type="text">
									<input id="searchsubmit" value="Search" type="submit">
								</div>
							</form>
						</div>
					</div>
				</div>
            </div>
            <div class="row">
				{% for news in news %}
                <div class="col-lg-6 col-md-6 col-12">
                    <div class="news-item">
						<div class="image-news">
							<img src=/{{news.news_pic}} alt="" class="img-fluid">
						</div>
						<div class="meta-info-news">
							<span><i class="fa fa-calendar"></i> <a href="#">{{news.date_posted| date:"F d, Y"}}</a> </span>
                            <span><i class="fa fa-tag"></i>  <a href="#">News</a> </span>
						</div>
						<div class="news-title">
							<h2><a href="#" title="">{{news.heading}}</a></h2>
						</div>
						<div class="news-desc">
							<p style=" height:100px; white-space: pre-line;">{{news.content|truncatewords:"20"}}</p>
						</div>
						<div class="news-button">
							<a class="hover-btn-new orange" href="/newsPortal/{{news.id}}"><span>Read More</span></a>
						</div>
					</div>
                </div>
				{% endfor %}

            </div>
            {% if is_paginated %}

              {% if page_obj.has_previous %}
                <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
              {% endif %}

              {% for num in page_obj.paginator.page_range %}
                {% if page_obj.number == num %}
                  <a class="btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
                {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                  <a class="btn btn-outline-info mb-4" href="?page={{ num }}">{{ num }}</a>
                {% endif %}
              {% endfor %}

              {% if page_obj.has_next %}
                <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
              {% endif %}
            {% endif %}
        </div>
    </div>

{% endblock %}