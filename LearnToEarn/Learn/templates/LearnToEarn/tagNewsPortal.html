{% extends 'layout.html' %}
{% load static %}
{% block title %}
    <title>Learn To Earn</title>
{% endblock%}

{% block content %}
<style>
.img-f {
max-width:100%;
height:200px;
}
</style>
<div class="all-title-box">
		<div class="container text-center">
			<h1>Recent News<span class="m_1">Lorem Ipsum dolroin gravida nibh vel velit.</span></h1>
		</div>
	</div>

    <main class="my-5">
    <div class="container">
      <section class="text-center">
        <div class="row">
			{% for news in news %}
          <div class="col-lg-4 col-md-12 mb-4">
            <div class="card">
              <div class="bg-image hover-overlay ripple" data-mdb-ripple-color="light">
                <img src=/{{news.news_pic}} class="img-f" />
                <a href="#!">
                  <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
                </a>
              </div>
			  <div class="meta-info-news">
				<span><i class="fa fa-calendar"></i> <a href="#">{{news.date_posted| date:"F d, Y"}}</a> </span>
				<span><i class="fa fa-tag"></i>  <a href="/newsPortal/category/{{news.Tags}}">{{news.Tags}}</a> </span>
			  </div>
              <div class="card-body">
                <h5  class="card-title" style=" height:30px; font-weight:bold;">{{news.heading|truncatewords:"15"}}</h5>
                <p style="height:80px" class="card-text">
                  {{news.content|truncatechars_html:90|safe|striptags|cut:"&nbsp;"}}
                </p>
                <a href="/newsPortal/{{news.id}}/" class="btn btn-primary">Read News</a>
              </div>
            </div>
          </div>
			{% endfor %}
		</div>
      </section>
      {% if news.has_other_pages %}
      <nav class="my-4" aria-label="...">
        <ul class="pagination pagination-circle justify-content-center">
		  {% if news.has_previous %}
          <li class="page-item">
            <a class="page-link" href="?page={{ news.previous_page_number }}" tabindex="-1" aria-disabled="true">Previous</a>
          </li>
		  {% endif %}
		  {% for num in news.paginator.page_range %}
			{% if news.number == num %}
          <li class="page-item active"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
			{% elif num > news.number|add:'-3' and num < news.number|add:'3' %}
          <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
			{% endif %}
          {% endfor %}
		  {% if news.has_next %}
          <li class="page-item">
            <a class="page-link" href="?page={{ news.next_page_number }}">Next</a>
          </li>
		  {% endif %}
        </ul>
      </nav>
	  {% endif %}
    </div>
  </main>

{% endblock %}